<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}TravelLux - –ù–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è{% endblock %}</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'travel/css/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü –æ—à–∏–±–æ–∫ */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .error-page {
            animation: fadeInUp 0.8s ease-out;
        }
        
        /* –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <header class="header">
        <nav class="nav container">
            <a href="{% url 'home' %}" class="logo">üåç TravelLux</a>
            <ul class="nav-menu">
                <li><a href="{% url 'home' %}" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="{% url 'catalog' %}" class="nav-link">–ö–∞—Ç–∞–ª–æ–≥ —Ç—É—Ä–æ–≤</a></li>
                <li><a href="{% url 'cart' %}" class="nav-link">–ö–æ—Ä–∑–∏–Ω–∞{% if user.is_authenticated and user.cart_set.count %} ({{ user.cart_set.count }}){% endif %}</a></li>
                {% if user.is_authenticated %}
                    <li><a href="{% url 'profile' %}" class="nav-link">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a></li>
                    <li><a href="{% url 'logout' %}" class="nav-link" onclick="return confirmLogout()">–í—ã—Ö–æ–¥</a></li>
                {% else %}
                    <li><a href="{% url 'auth' %}" class="nav-link">–í–æ–π—Ç–∏</a></li>
                {% endif %}
                <li><a href="{% url 'about' %}" class="nav-link">–û –Ω–∞—Å</a></li>
            </ul>
            <div class="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <!-- Messages -->
    {% if messages %}
        <div class="messages">
            <div class="container">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}">
                        {{ message }}
                        <button type="button" class="close" onclick="this.parentElement.style.display='none'">&times;</button>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}

    <!-- Main Content -->
    <main class="main">
        {% block content %}
        {% endblock %}
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>TravelLux</h3>
                    <p>–í–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä –≤ –º–∏—Ä–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π. –°–æ–∑–¥–∞–µ–º –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è —É–∂–µ –±–æ–ª–µ–µ 10 –ª–µ—Ç.</p>
                </div>
                <div class="footer-section">
                    <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <p>üìû +7 (495) 123-45-67</p>
                    <p>üìß info@travellux.ru</p>
                    <p>üìç –ú–æ—Å–∫–≤–∞, —É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, –¥. 15</p>
                </div>
                <div class="footer-section">
                    <h3>–£—Å–ª—É–≥–∏</h3>
                    <p><a href="{% url 'catalog' %}">–¢—É—Ä—ã –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É</a></p>
                    <p><a href="#" onclick="return false;">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã</a></p>
                    <p><a href="#" onclick="return false;">–í–∏–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</a></p>
                    <p><a href="#" onclick="return false;">–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ</a></p>
                </div>
                <div class="footer-section">
                    <h3>–°–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–∞–º–∏</h3>
                    <p><a href="#" onclick="return false;">Instagram</a></p>
                    <p><a href="#" onclick="return false;">Facebook</a></p>
                    <p><a href="#" onclick="return false;">Telegram</a></p>
                    <p><a href="#" onclick="return false;">YouTube</a></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 TravelLux. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script>
        // –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
        document.querySelector('.nav-toggle').addEventListener('click', function() {
            document.querySelector('.nav-menu').classList.toggle('active');
        });

        // –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –¥–ª—è —Å—Å—ã–ª–æ–∫
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(card);
        });

        // Auto-hide messages after 5 seconds
        const messages = document.querySelectorAll('.alert');
        messages.forEach(message => {
            setTimeout(() => {
                message.style.opacity = '0';
                setTimeout(() => {
                    message.style.display = 'none';
                }, 300);
            }, 5000);
        });
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã—Ö–æ–¥–∞
        function confirmLogout() {
            return confirm('–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã?');
        }
    </script>
</body>
</html>