{% extends 'travel/base.html' %}
{% load static %}

{% block title %}–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - TravelLux{% endblock %}

{% block content %}
    <style>
        .auth-wrapper {
            max-width: 450px;
            margin: 0 auto;
        }
        
        .auth-tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 2rem;
        }
        
        .tab-btn {
            flex: 1;
            background: none;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .tab-btn.active {
            background: var(--primary-color);
            color: white;
        }
        
        .auth-form {
            display: none;
        }
        
        .auth-form.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .error {
            color: var(--secondary-color);
            font-size: 14px;
            margin-top: 5px;
        }
    </style>

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <section class="hero" style="padding: 120px 0 60px;">
        <div class="container">
            <div class="hero-content">
                <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h1>
                <p>–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—É—Ä–æ–≤</p>
            </div>
        </div>
    </section>

    <!-- –§–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <section class="section">
        <div class="container">
            <div class="auth-wrapper">
                <div class="auth-tabs">
                    <button class="tab-btn active" onclick="showTab('login')">–í—Ö–æ–¥</button>
                    <button class="tab-btn" onclick="showTab('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                </div>
                
                <!-- Login Form -->
                <div id="login-tab" class="auth-form active">
                    <h2 class="text-center mb-4">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
                    <form method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="login" value="1">
                        {% if request.GET.next %}
                            <input type="hidden" name="next" value="{{ request.GET.next }}">
                        {% endif %}
                        <div class="form-group">
                            <label for="id_username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                            <input type="text" name="username" class="form-control" id="id_username" maxlength="150" required>
                            {% if login_form.username.errors %}
                                <div class="error">{{ login_form.username.errors.0 }}</div>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="id_password">–ü–∞—Ä–æ–ª—å</label>
                            <input type="password" name="password" class="form-control" id="id_password" required>
                            {% if login_form.password.errors %}
                                <div class="error">{{ login_form.password.errors.0 }}</div>
                            {% endif %}
                        </div>
                        {% if login_form.non_field_errors %}
                            <div class="error mb-3">{{ login_form.non_field_errors.0 }}</div>
                        {% endif %}
                        <button type="submit" class="btn btn-primary" style="width: 100%;">–í–æ–π—Ç–∏</button>
                    </form>
                    <div class="text-center mt-3">
                        <p class="text-light">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="showTab('register')" class="text-primary">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a></p>
                    </div>
                </div>
                
                <!-- Register Form -->
                <div id="register-tab" class="auth-form">
                    <h2 class="text-center mb-4">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h2>
                    <form method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="register" value="1">
                        {% if request.GET.next %}
                            <input type="hidden" name="next" value="{{ request.GET.next }}">
                        {% endif %}
                        <div class="form-group">
                            <label for="reg_username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                            <input type="text" name="username" class="form-control" id="reg_username" maxlength="150" required>
                            {% if register_form.username.errors %}
                                <div class="error">{{ register_form.username.errors.0 }}</div>
                            {% endif %}
                            <div class="text-light" style="font-size: 12px; margin-top: 5px;">
                                –ù–µ –±–æ–ª–µ–µ 150 —Å–∏–º–≤–æ–ª–æ–≤. –¢–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ —Å–∏–º–≤–æ–ª—ã @/./+/-/_
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="reg_password1">–ü–∞—Ä–æ–ª—å</label>
                            <input type="password" name="password1" class="form-control" id="reg_password1" required>
                            {% if register_form.password1.errors %}
                                <div class="error">{{ register_form.password1.errors.0 }}</div>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="reg_password2">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                            <input type="password" name="password2" class="form-control" id="reg_password2" required>
                            {% if register_form.password2.errors %}
                                <div class="error">{{ register_form.password2.errors.0 }}</div>
                            {% endif %}
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                    </form>
                    <div class="text-center mt-3">
                        <p class="text-light">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="showTab('login')" class="text-primary">–í–æ–π–¥–∏—Ç–µ</a></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <section class="section bg-white">
        <div class="container">
            <div class="section-header">
                <h2>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</h2>
                <p>–û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Å –∞–∫–∫–∞—É–Ω—Ç–æ–º TravelLux</p>
            </div>
            <div class="grid grid-3">
                <div class="card text-center">
                    <div class="card-content">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üéØ</div>
                        <h3>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</h3>
                        <p class="text-light">–ü–æ–ª—É—á–∞–π—Ç–µ —Ç—É—Ä—ã, –ø–æ–¥–æ–±—Ä–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –≤–∞—Å</p>
                    </div>
                </div>
                <div class="card text-center">
                    <div class="card-content">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üí∞</div>
                        <h3>–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Å–∫–∏–¥–∫–∏</h3>
                        <p class="text-light">–î–æ—Å—Ç—É–ø –∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Ü–µ–Ω–∞–º –∏ –∞–∫—Ü–∏—è–º –¥–ª—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
                    </div>
                </div>
                <div class="card text-center">
                    <div class="card-content">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üì±</div>
                        <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º</h3>
                        <p class="text-light">–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–≤–æ–∏ –∑–∞–∫–∞–∑—ã –∏ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø–æ–µ–∑–¥–∫–∞–º–∏ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.auth-form').forEach(form => {
                form.style.display = 'none';
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').style.display = 'block';
            document.querySelector(`[onclick="showTab('${tabName}')"]`).classList.add('active');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞
            showTab('login');
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100 + 500);
            });
        });
    </script>
{% endblock %}